(this["webpackJsonpcustom-search"]=this["webpackJsonpcustom-search"]||[]).push([[0],{23:function(e,t,a){e.exports=a(53)},29:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),s=a.n(c),l=(a(28),a(29),a(9)),o=a(10),i=a(3),u=a(4),m=a(6),h=a(5),d=a(2),b=a(7),f=a(8),g=a.n(f),y=function(){return r.a.createElement("header",{className:"navbar navbar-dark bg-dark mb-3"},r.a.createElement("div",{className:"container"},r.a.createElement("span",{className:"navbar-brand"},"Custom Search Demo")))};y.defaultProps={};var v=y,p=a(21),E=a.n(p),S=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={searchInput:""},a.debounceSubmit=E.a.debounce(a.debounceSubmit,700),a.searchQueryOnChange=a.searchQueryOnChange.bind(Object(d.a)(a)),a.formOnSubmit=a.formOnSubmit.bind(Object(d.a)(a)),a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"debounceSubmit",value:function(){this.submitSearchQuery()}},{key:"searchQueryOnChange",value:function(e){this.setState({searchInput:e.target.value}),this.debounceSubmit()}},{key:"formOnSubmit",value:function(e){e.preventDefault(),this.debounceSubmit.cancel(),this.submitSearchQuery()}},{key:"submitSearchQuery",value:function(){""!==this.state.searchInput&&this.props.submitSearchQuery(this.state.searchInput)}},{key:"render",value:function(){return r.a.createElement("form",{className:"mb-3",onSubmit:this.formOnSubmit},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 mb-3"},r.a.createElement("h1",null,"Myndaleit")),r.a.createElement("div",{className:"col-sm-9 col-md-8 col-lg-6 mb-3"},r.a.createElement("label",{htmlFor:"searchQuery",className:"sr-only"},"Myndaleit"),r.a.createElement("input",{type:"text",className:"form-control",id:"searchQuery",placeholder:"",value:this.state.searchInput,onChange:this.searchQueryOnChange,autoFocus:!0}))))}}]),t}(n.Component);S.defaultProps={};var O=S,j=a(22),N=a.n(j),k=function(e){var t=e.searchResults,a=e.searchQuery,n=e.fetching,c=e.fetchMore,s=e.hasMore;return n?r.a.createElement("div",{className:"text-center"},r.a.createElement("div",{className:"spinner-border"},r.a.createElement("span",{className:"sr-only"},"Loading..."))):0===t.length?""===a?r.a.createElement("div",null,r.a.createElement("span",null,"Byrja\xf0u a\xf0 sl\xe1 inn \xed leitargluggann til a\xf0 f\xe1 myndir")):r.a.createElement("div",null,r.a.createElement("span",null,"Engar myndir fundust vi\xf0 leitina a\xf0: ",r.a.createElement("strong",null,'"',a,'"'))):r.a.createElement(N.a,{className:"row",pageStart:0,loadMore:function(){console.log("loadMore() => fetchMore()"),c()},hasMore:s,loader:r.a.createElement("div",{className:"col-12 text-center",key:0},r.a.createElement("div",{className:"spinner-border"},r.a.createElement("span",{className:"sr-only"},"Loading...")))},t.map((function(e){return r.a.createElement("div",{className:"col-md-4",key:"".concat(e.id)},r.a.createElement("div",{className:"card mb-4 shadow-lg"},r.a.createElement("a",{href:e.image.contextLink,target:"_blank",rel:"noopener noreferrer",className:"bd-placeholder-img card-img",style:{backgroundImage:"url('".concat(e.link,"')")},title:e.title},r.a.createElement("span",{className:"sr-only"},e.title))))})))};k.defaultProps={searchResults:[],searchQuery:"",fetching:!1};var x=k,Q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return Array(e).join().split(",").map((function(){return Q.charAt(Math.floor(Math.random()*Q.length))})).join("")},I="https://content.googleapis.com/customsearch/v1",w={cx:"001361074102112665899:p7mybnrloug",key:"AIzaSyAj6qgbKJfP5qpY7fXJ7JAjlLb-vdwE7fc",searchType:"image",q:""},C=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={searchQuery:"",searchResults:[],fetching:!1,nextIndex:1},a.submitSearchQuery=a.submitSearchQuery.bind(Object(d.a)(a)),a.fetchMore=a.fetchMore.bind(Object(d.a)(a)),a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"fetchData",value:function(e){var t=this,a=this.state.nextIndex;this.setState({fetching:!0,searchQuery:e}),g.a.get(I,{params:Object(o.a)({},w,{q:e,start:a})}).then((function(e){var a=e.data.items.map((function(e){return e.id=M(),e}));t.setState({searchResults:a,fetching:!1,nextIndex:e.data.queries.nextPage[0].startIndex}),console.log("fetchData() - res.data:",e.data)})).catch((function(e){t.setState({fetching:!1}),console.log(e)}))}},{key:"fetchMore",value:function(){var e=this,t=this.state.nextIndex;g.a.get(I,{params:Object(o.a)({},w,{q:this.state.searchQuery,start:t})}).then((function(t){var a=t.data.items.map((function(e){return e.id=M(),e}));e.setState({searchResults:[].concat(Object(l.a)(e.state.searchResults),Object(l.a)(a)),nextIndex:t.data.queries.nextPage[0].startIndex}),console.log("fetchMore() - res.data:",t.data)})).catch((function(e){console.log(e)}))}},{key:"submitSearchQuery",value:function(e){""!==e&&this.fetchData(e)}},{key:"render",value:function(){var e=this.state,t=e.searchQuery,a=e.searchResults,c=e.fetching,s=e.nextIndex;return r.a.createElement(n.Fragment,null,r.a.createElement(v,null),r.a.createElement("main",null,r.a.createElement("div",{className:"container"},r.a.createElement(O,{submitSearchQuery:this.submitSearchQuery})),r.a.createElement("div",{className:"bg-light py-3"},r.a.createElement("div",{className:"container"},r.a.createElement(x,{searchQuery:t,searchResults:a,fetching:c,fetchMore:this.fetchMore,hasMore:s<100})))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[23,1,2]]]);
//# sourceMappingURL=main.f4cf0c5c.chunk.js.map